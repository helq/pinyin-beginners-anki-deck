<div id="the-card">
  What is the sound
  
  <div id="to-play"></div>
  
  <table id="sounds">
  <tr class="pinyin prompt">
    <td><div class='big-font'>{{Pinyin ||SOUND NUMBER 1||}}<div></td>
    <td><div class='big-font'>{{Pinyin ||SOUND NUMBER 2||}}<div></td>
  </tr>
  <tr class="zhuyin prompt">
    <td><div class=zhuyin>{{Zhuyin ||SOUND NUMBER 1||}}</div></td>
    <td><div class=zhuyin>{{Zhuyin ||SOUND NUMBER 2||}}</div></td>
  </tr>
  </table>
</div>

<script src="../../scripts/persistence.js"></script>
<script src="../../scripts/common.js"></script>

<script>
  var max_sounds_shown = 3;
  checkPersistence(function main() {
    var possibilities;
    var numAudio = Math.floor(Math.random() * 2);

    if (numAudio === 0) {
      possibilities = getElems(function EOL() {/*EOL {{Audio ||SOUND NUMBER 1||}} EOL*/
      });
    } else {
      possibilities = getElems(function EOL() {/*EOL {{Audio ||SOUND NUMBER 2||}} EOL*/
      });
    }
    // shuffling array
    shuffle(possibilities);

    possibilities = possibilities.slice(0, max_sounds_shown);

    // Common to front and back cards
    possibilities.forEach(function (elem) {
      document.getElementById("to-play").innerHTML += elem.sound;
    });

    // playing first audio
    playAudio("#to-play");

    // Saving data
    Persistence.setItem(JSON.stringify(possibilities));
  })
</script>
